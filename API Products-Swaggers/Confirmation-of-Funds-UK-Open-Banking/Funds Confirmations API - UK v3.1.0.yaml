openapi: 3.0.0
info:
    title: UK OPB - Confirmation Of Funds V3.1.0
    version: v3.1.0
    description: >-
        ## Functionality at a glance


        Start integrating your application with NBG Bank:


        Get informed of availability of funds regarding a payment


        NBG "Confirmation of Funds" API implementes the [UK Open Banking Specification
        v3.1.](https://openbanking.atlassian.net/wiki/spaces/DZ/overview?mode=global)


        ## Quick Getting Started

        1. **Login/Register** to the NBG Technology HUB

        2. Go to **"APPS"**

        3. Select your Organization and go to step 4. If you want to create a new Organization click **\"CREATE AN ORGANIZATION\"** and follow the steps below:
            1. Enter the title of your Organization
            2. Enter a short description of your Organization (optional)
            3. Click **"SUBMIT"**
        
        4. Select the Organization of choice and click **"ADD AN APPLICATION"** 
              1. Fill in the forms (title and short description)
              2. Check **\"Authorization Code\" and \"Client Credentials\"** 
              3. Enter the **OAuth Redirect and Post Logout URIs** (these are the URIs that we will redirect the user upon logging in and logging out respectively)
              
                  You can use the following redirect URL to easily test the API through the portal: *https://developer.nbg.gr/oauth2/redoc-callback*
              4. Click **"SUBMIT"**
              5. Store the APPs **"Client ID"** and **"Client Secret"**

        5. Go to **"API PRODUCTS"** and select the **UK OPB - Confirmation Of Funds API**

        6. Click **\"START USING THIS API\"**, choose your app and click
    **"SUBSCRIBE"**

        7. Get an Access Token using the credentials you signed in as a developer

        8. Create a Sandbox

        9. Play with the API 



        ## Authentication and Authorization (OAuth2)

        This API version uses the OAuth2 protocol for authentication and authorization, which means that a
        Bearer (access token) should be acquired. An access token can be retrieved using the client_id and
        client_secret of the APP that you created and subscribed in this API, and your own credentials
        (username, password) that you use to sign in the NBG Technology HUB. The scopes are defined below:


        **Sandbox Scopes:** openid profile **sandbox-uk-fundsconfirmations-api-v1**


        **Production Scopes:** openid profile **fundsconfirmations**


        **Authorization Endpoint:** https://my.nbg.gr/identity/connect/authorize


        **Token Endpoint:** https://my.nbg.gr/identity/connect/token


        See more [here](https://developer.nbg.gr/oauth-document)



        ## Create your Sandbox

        Create a new Sandbox application by invoking the POST /sandbox. This call will generate a new Sandbox
        with a unique sandbox-id.


        __Important!__ Before proceeding save the sandbox id you just created.


        When you create a sandbox, users and sandbox specific data are generated as sample data.


        Each sandbox created through NBG Account sandbox API is compatible with other NBG Open Bank sandbox
        APIs.


        ## Start Testing

        Once you have your sandbox-id, you can start invoking the rest of the operations by providing the
        mandatory http header **sandbox-id**  and the http headers described below.


        ## Important notes


        **Request headers**


        The following HTTP header parameters are required for every call:


        1. Authorization. The Auth2 Token

        2. x-fapi-financial-id. The unique id of the ASPSP to which the request is issued (Default: NBG)

        3. sandbox-id. Your Sandbox ID



        **Consent**


        In order to be able to effectively start using the Endpoints the appropriate Consent needs to be
        created and set to the 'Authorised' status. 


        ## Error Codes

        The error codes and their description can be found
        [here](https://openbanking.atlassian.net/wiki/spaces/DZ/pages/937656404/Read+Write+Data+API+Specification+-+v3.1#Read/WriteDataAPISpecification-v3.1-ErrorResponseStructure)


         # Implementation Specifics 

        Below you may find more specific information & limitations regarding the implementation followed in
        the Production API.

        ## Token Endpoint Client Authentication

        At this point the supported __Client Authentication__ method is "__Client Secret Basic__" - usage of
        "Client ID" & "Client Secret".

        ## Consent Authorization

        In order for a PSU to Authorize a Consent, they need to be redirected to the appropriate Consent UI.
        <br /><br />  In order for this redirection to take place the TPP needs to follow the Authorization
        Endpoint by ammending the generated "Consent ID", like this:
        https://my.nbg.gr/identity/connect/authorize?consent_id={{consent_id}}


        ## Feedback and Questions

        We would love to hear your feedback and answer your questions. Send us at
        [developer@nbg.gr](developer@nbg.gr)



        Check out our [Sandbox Postman
        Collection](https://github.com/myNBGcode/PostmanCollections/tree/master/Confirmation%20of%20Funds%20-%20UK%20Open%20Banking)
         ________________________________________

        Created by [**NBG**](https://www.nbg.gr/).


        ------------------------------------------------------------------------------------------ 

        ------------------------------------------------------------------------------------------
    contact: {}
servers:
    -
        url: 'https://apis.nbg.gr/sandbox/uk.openbanking.fundsconfirmation/oauth2/v3.1.0'
        description: Sandbox Server
paths:
    '/sandbox/{sandboxId}':
        get:
            tags:
                - Sandbox
            parameters:
                -
                    $ref: '#/components/parameters/AuthorizationParam'
                -
                    name: sandboxId
                    schema:
                        type: string
                    in: path
                    required: true
            responses:
                '200':
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Sandbox'
                    description: Success
                '400':
                    description: Sandbox Not Found
                '401':
                    description: Unauthorized
                '500':
                    description: Internal Server Error
            operationId: Get
            description: Export a Sandbox
        delete:
            tags:
                - Sandbox
            parameters:
                -
                    $ref: '#/components/parameters/AuthorizationParam'
                -
                    name: sandboxId
                    schema:
                        type: string
                    in: path
                    required: true
            responses:
                '204':
                    description: No Content
                '400':
                    description: Sandbox Not Found
                '401':
                    description: Unauthorized
                '500':
                    description: 'Internal Server Error '
            operationId: Delete
            description: Delete Sandbox
    /sandbox:
        put:
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/Sandbox'
            tags:
                - Sandbox
            parameters:
                -
                    $ref: '#/components/parameters/AuthorizationParam'
            responses:
                '204':
                    description: No Content
                '400':
                    description: Bad Request
                '401':
                    description: Unauthorized
                '500':
                    description: Internal Server Error
            operationId: Sandbox_ImportSandbox
            description: Import a Sandbox
        post:
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/SandboxRequest'
                required: true
            tags:
                - Sandbox
            parameters:
                -
                    $ref: '#/components/parameters/AuthorizationParam'
            responses:
                '200':
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Sandbox'
                    description: Success
                '400':
                    description: 'Incorrect json format or Sandbox Already Exists '
                '401':
                    description: Unauthorized
                '500':
                    description: Internal Server Error
            operationId: Create
            description: Create a New Sandbox
    /funds-confirmation-consents:
        description: Create a Funds Confirmation Consent
        post:
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/OBFundsConfirmationConsent1'
                required: true
            tags:
                - Funds Confirmations
            parameters:
                -
                    $ref: '#/components/parameters/x-fapi-financial-id-Param'
                -
                    $ref: '#/components/parameters/x-fapi-customer-last-logged-time-Param'
                -
                    $ref: '#/components/parameters/x-fapi-customer-ip-address-Param'
                -
                    $ref: '#/components/parameters/x-fapi-interaction-id-Param'
                -
                    $ref: '#/components/parameters/AuthorizationParam'
                -
                    $ref: '#/components/parameters/x-customer-user-agent-Param'
                -
                    name: sandbox-id
                    description: The unique id of the sandbox to be used
                    schema:
                        type: string
                    in: header
                    required: true
            responses:
                '201':
                    $ref: '#/components/responses/201FundsConfirmationConsentsCreated'
                '400':
                    $ref: '#/components/responses/400ErrorResponse'
                '401':
                    $ref: '#/components/responses/401ErrorResponse'
                '403':
                    $ref: '#/components/responses/403ErrorResponse'
                '404':
                    $ref: '#/components/responses/404ErrorResponse'
                '405':
                    $ref: '#/components/responses/405ErrorResponse'
                '406':
                    $ref: '#/components/responses/406ErrorResponse'
                '415':
                    $ref: '#/components/responses/415ErrorResponse'
                '429':
                    $ref: '#/components/responses/429ErrorResponse'
                '500':
                    $ref: '#/components/responses/500ErrorResponse'
            security:
                -
                    Client-ID: []
            operationId: CreateFundsConfirmationConsents
            summary: Create Funds Confirmation Consent
    /funds-confirmations:
        description: Create a Funds Confirmation Request - Verify if Funds are available
        post:
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/OBFundsConfirmation1'
                required: true
            tags:
                - Funds Confirmations
            parameters:
                -
                    $ref: '#/components/parameters/x-fapi-financial-id-Param'
                -
                    $ref: '#/components/parameters/x-fapi-customer-last-logged-time-Param'
                -
                    $ref: '#/components/parameters/x-fapi-customer-ip-address-Param'
                -
                    $ref: '#/components/parameters/x-fapi-interaction-id-Param'
                -
                    $ref: '#/components/parameters/AuthorizationParam'
                -
                    $ref: '#/components/parameters/x-customer-user-agent-Param'
                -
                    name: sandbox-id
                    description: The unique id of the sandbox to be used
                    schema:
                        type: string
                    in: header
                    required: true
            responses:
                '201':
                    $ref: '#/components/responses/201FundsConfirmationsCreated'
                '400':
                    $ref: '#/components/responses/400ErrorResponse'
                '401':
                    $ref: '#/components/responses/401ErrorResponse'
                '403':
                    $ref: '#/components/responses/403ErrorResponse'
                '404':
                    $ref: '#/components/responses/404ErrorResponse'
                '405':
                    $ref: '#/components/responses/405ErrorResponse'
                '406':
                    $ref: '#/components/responses/406ErrorResponse'
                '415':
                    $ref: '#/components/responses/415ErrorResponse'
                '429':
                    $ref: '#/components/responses/429ErrorResponse'
                '500':
                    $ref: '#/components/responses/500ErrorResponse'
            security:
                -
                    Client-ID: []
            operationId: CreateFundsConfirmations
            summary: Create Funds Confirmation
    '/funds-confirmation-consents/{ConsentId}':
        description: Retrieve a Funds Confirmation Consent Resource
        get:
            tags:
                - Funds Confirmations
            parameters:
                -
                    $ref: '#/components/parameters/ConsentId'
                -
                    $ref: '#/components/parameters/x-fapi-financial-id-Param'
                -
                    $ref: '#/components/parameters/x-fapi-customer-last-logged-time-Param'
                -
                    $ref: '#/components/parameters/x-fapi-customer-ip-address-Param'
                -
                    $ref: '#/components/parameters/x-fapi-interaction-id-Param'
                -
                    $ref: '#/components/parameters/AuthorizationParam'
                -
                    $ref: '#/components/parameters/x-customer-user-agent-Param'
                -
                    name: sandbox-id
                    description: The unique id of the sandbox to be used
                    schema:
                        type: string
                    in: header
                    required: true
            responses:
                '200':
                    $ref: '#/components/responses/200FundsConfirmationConsentsConsentIdRead'
                '400':
                    $ref: '#/components/responses/400ErrorResponse'
                '401':
                    $ref: '#/components/responses/401ErrorResponse'
                '403':
                    $ref: '#/components/responses/403ErrorResponse'
                '404':
                    $ref: '#/components/responses/404ErrorResponse'
                '405':
                    $ref: '#/components/responses/405ErrorResponse'
                '406':
                    $ref: '#/components/responses/406ErrorResponse'
                '429':
                    $ref: '#/components/responses/429ErrorResponse'
                '500':
                    $ref: '#/components/responses/500ErrorResponse'
            security:
                -
                    Client-ID: []
            operationId: GetFundsConfirmationConsentsConsentId
            summary: Get Funds Confirmation Consent
        delete:
            tags:
                - Funds Confirmations
            parameters:
                -
                    $ref: '#/components/parameters/ConsentId'
                -
                    $ref: '#/components/parameters/x-fapi-financial-id-Param'
                -
                    $ref: '#/components/parameters/x-fapi-customer-last-logged-time-Param'
                -
                    $ref: '#/components/parameters/x-fapi-customer-ip-address-Param'
                -
                    $ref: '#/components/parameters/x-fapi-interaction-id-Param'
                -
                    $ref: '#/components/parameters/AuthorizationParam'
                -
                    $ref: '#/components/parameters/x-customer-user-agent-Param'
                -
                    name: sandbox-id
                    description: The unique id of the sandbox to be used
                    schema:
                        type: string
                    in: header
                    required: true
            responses:
                '204':
                    $ref: '#/components/responses/204FundsConfirmationConsentsConsentIdDeleted'
                '400':
                    $ref: '#/components/responses/400ErrorResponse'
                '401':
                    $ref: '#/components/responses/401ErrorResponse'
                '403':
                    $ref: '#/components/responses/403ErrorResponse'
                '404':
                    $ref: '#/components/responses/404ErrorResponse'
                '405':
                    $ref: '#/components/responses/405ErrorResponse'
                '406':
                    $ref: '#/components/responses/406ErrorResponse'
                '429':
                    $ref: '#/components/responses/429ErrorResponse'
                '500':
                    $ref: '#/components/responses/500ErrorResponse'
            operationId: DeleteFundsConfirmationConsentsConsentId
            summary: Delete Funds Confirmation Consent
components:
    schemas:
        OBActiveCurrencyAndAmount_SimpleType:
            description: >-
                A number of monetary units specified in an active currency where the unit of currency is
                explicit and compliant with ISO 4217.
            pattern: '^\d{1,13}\.\d{1,5}$'
            type: string
        OBActiveOrHistoricCurrencyAndAmount:
            description: >-
                Amount of money to be confirmed as available funds in the debtor account. Contains an Amount
                and a Currency.
            required:
                - Amount
                - Currency
            type: object
            properties:
                Amount:
                    $ref: '#/components/schemas/OBActiveCurrencyAndAmount_SimpleType'
                Currency:
                    description: >-
                        A code allocated to a currency by a Maintenance Agency under an international
                        identification scheme, as described in the latest edition of the international
                        standard ISO 4217 "Codes for the representation of currencies and funds".
                    pattern: '^[A-Z]{3,3}$'
                    type: string
            additionalProperties: false
        OBCashAccountDebtor4:
            description: >-
                Unambiguous identification of the account of the debtor to which a confirmation of funds
                consent will be applied.
            required:
                - SchemeName
                - Identification
            type: object
            properties:
                SchemeName:
                    $ref: '#/components/schemas/OBExternalAccountIdentification4Code'
                Identification:
                    description: >-
                        Identification assigned by an institution to identify an account. This identification
                        is known by the account owner.
                    maxLength: 256
                    minLength: 1
                    type: string
                Name:
                    description: >-
                        Name of the account, as assigned by the account servicing institution.

                        Usage: The account name is the name or names of the account owner(s) represented at an
                        account level. The account name is not the product name or the nickname of the
                        account.
                    maxLength: 70
                    minLength: 1
                    type: string
                SecondaryIdentification:
                    description: >-
                        This is secondary identification of the account, as assigned by the account servicing
                        institution. 

                        This can be used by building societies to additionally identify accounts with a roll
                        number (in addition to a sort code and account number combination).
                    maxLength: 34
                    minLength: 1
                    type: string
            additionalProperties: false
        OBExternalAccountIdentification4Code:
            description: 'Name of the identification scheme, in a coded form as published in an external list.'
            maxLength: 40
            minLength: 1
            type: string
            example:
                - UK.OBIE.BBAN
                - UK.OBIE.IBAN
                - UK.OBIE.PAN
                - UK.OBIE.Paym
                - UK.OBIE.SortCodeAccountNumber
        OBExternalRequestStatus1Code:
            description: Specifies the status of consent resource in code form.
            enum:
                - Authorised
                - AwaitingAuthorisation
                - Rejected
                - Revoked
            type: string
        OBFundsConfirmation1:
            required:
                - Data
            type: object
            properties:
                Data:
                    $ref: '#/components/schemas/OBFundsConfirmationData1'
            additionalProperties: false
        OBFundsConfirmationConsent1:
            required:
                - Data
            type: object
            properties:
                Data:
                    $ref: '#/components/schemas/OBFundsConfirmationConsentData1'
            additionalProperties: false
        OBFundsConfirmationConsentData1:
            required:
                - DebtorAccount
            type: object
            properties:
                ExpirationDateTime:
                    format: date-time
                    description: |-
                        Specified date and time the funds confirmation authorisation will expire.
                        If this is not populated, the authorisation will be open ended.
                        All dates in the JSON payloads are represented in ISO 8601 date-time format. 
                        All date-time fields in responses must include the timezone. An example is below:
                        2017-04-05T10:43:07+00:00
                    type: string
                DebtorAccount:
                    $ref: '#/components/schemas/OBCashAccountDebtor4'
            additionalProperties: false
        OBFundsConfirmationConsentDataResponse1:
            required:
                - ConsentId
                - CreationDateTime
                - Status
                - StatusUpdateDateTime
                - DebtorAccount
            type: object
            properties:
                ConsentId:
                    description: Unique identification as assigned to identify the funds confirmation consent resource.
                    maxLength: 128
                    minLength: 1
                    type: string
                CreationDateTime:
                    format: date-time
                    description: |-
                        Date and time at which the resource was created.
                        All dates in the JSON payloads are represented in ISO 8601 date-time format. 
                        All date-time fields in responses must include the timezone. An example is below:
                        2017-04-05T10:43:07+00:00
                    type: string
                Status:
                    $ref: '#/components/schemas/OBExternalRequestStatus1Code'
                StatusUpdateDateTime:
                    format: date-time
                    description: |-
                        Date and time at which the resource status was updated.
                        All dates in the JSON payloads are represented in ISO 8601 date-time format. 
                        All date-time fields in responses must include the timezone. An example is below:
                        2017-04-05T10:43:07+00:00
                    type: string
                ExpirationDateTime:
                    format: date-time
                    description: |-
                        Specified date and time the funds confirmation authorisation will expire.
                        If this is not populated, the authorisation will be open ended.
                        All dates in the JSON payloads are represented in ISO 8601 date-time format. 
                        All date-time fields in responses must include the timezone. An example is below:
                        2017-04-05T10:43:07+00:00
                    type: string
                DebtorAccount:
                    $ref: '#/components/schemas/OBCashAccountDebtor4'
            additionalProperties: false
        OBFundsConfirmationConsentResponse1:
            required:
                - Data
                - Links
                - Meta
            type: object
            properties:
                Data:
                    $ref: '#/components/schemas/OBFundsConfirmationConsentDataResponse1'
                Links:
                    $ref: '#/components/schemas/Links'
                Meta:
                    $ref: '#/components/schemas/Meta'
            additionalProperties: false
        OBFundsConfirmationData1:
            required:
                - ConsentId
                - Reference
                - InstructedAmount
            type: object
            properties:
                ConsentId:
                    description: >-
                        Unique identification as assigned by the ASPSP to uniquely identify the funds
                        confirmation consent resource.
                    maxLength: 128
                    minLength: 1
                    type: string
                Reference:
                    description: >-
                        Unique reference, as assigned by the CBPII, to unambiguously refer to the request
                        related to the payment transaction.
                    maxLength: 35
                    minLength: 1
                    type: string
                InstructedAmount:
                    $ref: '#/components/schemas/OBActiveOrHistoricCurrencyAndAmount'
            additionalProperties: false
        OBFundsConfirmationDataResponse1:
            required:
                - FundsConfirmationId
                - ConsentId
                - CreationDateTime
                - FundsAvailable
                - Reference
                - InstructedAmount
            type: object
            properties:
                FundsConfirmationId:
                    description: >-
                        Unique identification as assigned by the ASPSP to uniquely identify the funds
                        confirmation resource.
                    maxLength: 40
                    minLength: 1
                    type: string
                ConsentId:
                    description: >-
                        Unique identification as assigned by the ASPSP to uniquely identify the funds
                        confirmation consent resource.
                    maxLength: 128
                    minLength: 1
                    type: string
                CreationDateTime:
                    format: date-time
                    description: |-
                        Date and time at which the resource was created.
                        All dates in the JSON payloads are represented in ISO 8601 date-time format. 
                        All date-time fields in responses must include the timezone. An example is below:
                        2017-04-05T10:43:07+00:00
                    type: string
                FundsAvailable:
                    description: Flag to indicate the result of a confirmation of funds check.
                    type: boolean
                Reference:
                    description: >-
                        Unique reference, as assigned by the CBPII, to unambiguously refer to the request
                        related to the payment transaction.
                    maxLength: 35
                    minLength: 1
                    type: string
                InstructedAmount:
                    $ref: '#/components/schemas/OBActiveOrHistoricCurrencyAndAmount'
            additionalProperties: false
        OBFundsConfirmationResponse1:
            required:
                - Data
                - Links
                - Meta
            type: object
            properties:
                Data:
                    $ref: '#/components/schemas/OBFundsConfirmationDataResponse1'
                Links:
                    $ref: '#/components/schemas/Links'
                Meta:
                    $ref: '#/components/schemas/Meta'
            additionalProperties: false
        SandboxRequest:
            required:
                - sandboxId
            type: object
            properties:
                sandboxId:
                    description: The Sandbox ID
                    pattern: '^[a-zA-Z0-9_-]+$'
                    type: string
        Sandbox:
            required:
                - sandboxId
            type: object
            properties:
                sandboxId:
                    description: The Sandbox ID
                    pattern: '^[a-zA-Z0-9_-]+$'
                    type: string
                users:
                    uniqueItems: false
                    type: array
                    items:
                        $ref: '#/components/schemas/User'
        User:
            type: object
            properties:
                userId:
                    type: string
                consents:
                    uniqueItems: false
                    type: array
                    items:
                        $ref: '#/components/schemas/FundsConsent'
                accounts:
                    uniqueItems: false
                    type: array
                    items:
                        $ref: '#/components/schemas/BankAccount'
        FundsConsent:
            required:
                - Status
            type: object
            properties:
                Id:
                    type: string
                CreationDateTime:
                    format: date-time
                    type: string
                StatusUpdateDateTime:
                    format: date-time
                    type: string
                ExpirationDateTime:
                    format: date-time
                    type: string
                DebtorAccount:
                    $ref: '#/components/schemas/OBCashAccountDebtor4'
                Status:
                    enum:
                        - Authorised
                        - AwaitingAuthorisation
                        - Rejected
                        - Revoked
                    type: string
        BankAccount:
            required:
                - currency
                - iban
                - balance
            type: object
            properties:
                currency:
                    type: string
                iban:
                    type: string
                balance:
                    format: double
                    type: number
        Links:
            description: Links relevant to the payload
            required:
                - Self
            type: object
            properties:
                Self:
                    format: uri
                    type: string
                First:
                    format: uri
                    type: string
                Prev:
                    format: uri
                    type: string
                Next:
                    format: uri
                    type: string
                Last:
                    format: uri
                    type: string
            additionalProperties: false
        Meta:
            title: MetaData
            description: Meta Data relevant to the payload
            type: object
            properties:
                TotalPages:
                    format: int32
                    type: integer
                FirstAvailableDateTime:
                    $ref: '#/components/schemas/ISODateTime'
                LastAvailableDateTime:
                    $ref: '#/components/schemas/ISODateTime'
            additionalProperties: false
        ISODateTime:
            format: date-time
            description: |-
                All dates in the JSON payloads are represented in ISO 8601 date-time format. 
                All date-time fields in responses must include the timezone. An example is below:
                2017-04-05T10:43:07+00:00
            type: string
        OBError1:
            minProperties: 1
            required:
                - ErrorCode
                - Message
            type: object
            properties:
                ErrorCode:
                    description: 'Low level textual error code, e.g., UK.OBIE.Field.Missing'
                    maxLength: 128
                    minLength: 1
                    type: string
                Message:
                    description: >-
                        A description of the error that occurred. e.g., 'A mandatory field isn't supplied' or
                        'RequestedExecutionDateTime must be in future'

                        OBIE doesn't standardise this field
                    maxLength: 500
                    minLength: 1
                    type: string
                Path:
                    description: >-
                        Recommended but optional reference to the JSON Path of the field with error, e.g.,
                        Data.Initiation.InstructedAmount.Currency
                    maxLength: 500
                    minLength: 1
                    type: string
                Url:
                    description: >-
                        URL to help remediate the problem, or provide more information, or to API Reference,
                        or help etc
                    type: string
            additionalProperties: false
        OBErrorResponse1:
            description: 'An array of detail error codes, and messages, and URLs to documentation to help remediation.'
            required:
                - Code
                - Message
                - Errors
            type: object
            properties:
                Code:
                    description: 'High level textual error code, to help categorize the errors.'
                    maxLength: 40
                    minLength: 1
                    type: string
                Id:
                    description: >-
                        A unique reference for the error instance, for audit purposes, in case of
                        unknown/unclassified errors.
                    maxLength: 40
                    minLength: 1
                    type: string
                Message:
                    description: >-
                        Brief Error message, e.g., 'There is something wrong with the request parameters
                        provided'
                    maxLength: 500
                    minLength: 1
                    type: string
                Errors:
                    minItems: 1
                    type: array
                    items:
                        $ref: '#/components/schemas/OBError1'
            additionalProperties: false
    responses:
        201FundsConfirmationsCreated:
            headers:
                x-fapi-interaction-id:
                    schema:
                        type: string
                    description: An RFC4122 UID used as a correlation id.
            content:
                application/json:
                    schema:
                        $ref: '#/components/schemas/OBFundsConfirmationResponse1'
            description: Funds Confirmation Created
        201FundsConfirmationConsentsCreated:
            headers:
                x-fapi-interaction-id:
                    schema:
                        type: string
                    description: An RFC4122 UID used as a correlation id.
            content:
                application/json:
                    schema:
                        $ref: '#/components/schemas/OBFundsConfirmationConsentResponse1'
            description: Funds Confirmation Consent Created
        200FundsConfirmationConsentsConsentIdRead:
            headers:
                x-fapi-interaction-id:
                    schema:
                        type: string
                    description: An RFC4122 UID used as a correlation id.
            content:
                application/json:
                    schema:
                        $ref: '#/components/schemas/OBFundsConfirmationConsentResponse1'
            description: Funds Confirmation Consent Read
        204FundsConfirmationConsentsConsentIdDeleted:
            headers:
                x-fapi-interaction-id:
                    schema:
                        type: string
                    description: An RFC4122 UID used as a correlation id.
            description: Funds Confirmation Consent Deleted
        400ErrorResponse:
            content:
                application/json:
                    schema:
                        $ref: '#/components/schemas/OBErrorResponse1'
            description: Bad request
        401ErrorResponse:
            description: Unauthorized
        403ErrorResponse:
            description: Forbidden
        404ErrorResponse:
            description: Not found
        405ErrorResponse:
            description: Method Not Allowed
        406ErrorResponse:
            description: Not Acceptable
        415ErrorResponse:
            description: Unsupported Media Type
        429ErrorResponse:
            headers:
                Retry-After:
                    schema:
                        type: integer
                    description: Number in seconds to wait
            description: Too Many Requests
        500ErrorResponse:
            content:
                application/json:
                    schema:
                        $ref: '#/components/schemas/OBErrorResponse1'
            description: Internal Server Error
    parameters:
        x-fapi-financial-id-Param:
            name: x-fapi-financial-id
            description: The unique id of the ASPSP to which the request is issued. The unique id will be issued by OB.
            schema:
                type: string
            in: header
            required: true
        x-fapi-customer-ip-address-Param:
            name: x-fapi-customer-ip-address
            description: The PSU's IP address if the PSU is currently logged in with the TPP.
            schema:
                type: string
            in: header
            required: false
        x-fapi-interaction-id-Param:
            name: x-fapi-interaction-id
            description: An RFC4122 UID used as a correlation id.
            schema:
                type: string
            in: header
            required: false
        x-fapi-customer-last-logged-time-Param:
            name: x-fapi-customer-last-logged-time
            description: |-
                The time when the PSU last logged in with the TPP. 
                All dates in the HTTP headers are represented as RFC 7231 Full Dates. An example is below: 
                Sun, 10 Sep 2017 19:43:31 UTC
            schema:
                pattern: >-
                    ^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), \d{2} (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)
                    \d{4} \d{2}:\d{2}:\d{2} (GMT|UTC)$
                type: string
            in: header
            required: false
        AuthorizationParam:
            name: Authorization
            description: 'An Authorisation Token as per https://tools.ietf.org/html/rfc6750'
            schema:
                default: 'Bearer '
                type: string
            in: header
            required: true
        OBFundsConfirmation1Param:
            name: OBFundsConfirmation1Param
            description: Default
            schema:
                $ref: '#/components/schemas/OBFundsConfirmation1'
            in: query
            required: true
        OBFundsConfirmationConsent1Param:
            name: OBFundsConfirmationConsent1Param
            description: Default
            schema:
                $ref: '#/components/schemas/OBFundsConfirmationConsent1'
            in: query
            required: true
        ConsentId:
            name: ConsentId
            description: ConsentId
            schema:
                type: string
            in: path
            required: true
        x-customer-user-agent-Param:
            name: x-customer-user-agent
            description: Indicates the user-agent that the PSU is using.
            schema:
                type: string
            in: header
            required: false
    securitySchemes:
        Client-ID:
            type: apiKey
            description: Application's ID
            name: Client-ID
            in: header
security:
    -
        Client-Id: []
